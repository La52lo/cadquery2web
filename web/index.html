<!DOCTYPE html>
<html>
<head>
  <title>cadquery2web</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="main.css">
  <link rel="icon" type="image/png" sizes="192x192" href="favicon/favicon-192x192.png">
  <link rel="icon" type="image/x-icon" href="favicon/favicon.ico">
</head>
<body>
  <div class="container">
    <div class="left-panel">
      <h1><a href="http://github.com/30hours/cadquery2web">cadquery2web</a></h1>

      <!-- Editor -->
      <textarea id="code-input" spellcheck="false" placeholder="Enter CadQuery code OR a natural language prompt for the model..."></textarea>

      <!-- Mode selector: choose Code (send as { code }) or Prompt (send as { prompt }) -->
      <div class="mode-container" style="margin:8px 0;">
        <label style="margin-right:12px;">
          <input type="radio" name="mode" id="mode-code" value="code" checked>
          Code
        </label>
        <label>
          <input type="radio" name="mode" id="mode-prompt" value="prompt">
          Prompt
        </label>
        <small style="display:block; margin-top:6px; color:#666;">
          "Code" sends the editor content to /code (CadQuery code). "Prompt" sends the editor content to /prompt (natural language; the Groq model should return a fenced code block).
        </small>
      </div>

      <div class="buttons-container">
        <button class="render-btn" id="preview-btn">Preview</button>
        <button class="render-btn" id="stl-btn">STL</button>
        <button class="render-btn" id="step-btn">STEP</button>
      </div>

      <div class="output-container" id="output-container">
        <!-- output / messages go here -->
      </div>
    </div>

    <div class="right-panel" id="viewer">
      <!-- three.js viewer (unchanged) -->
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script src="main.js"></script>
</body>
</html>